---
typora-copy-images-to: ..\Pictures\Typora
---

# 编译原理

[TOC]

## 翻译器(translator)

![1523325989941](C:\Users\ZhangConghai\Pictures\Typora\1523325989941.png)

## 解释器(interpreter)

![1523326015547](C:\Users\ZhangConghai\Pictures\Typora\1523326015547.png)

## 编译器(compiler)

![1523326026617](C:\Users\ZhangConghai\Pictures\Typora\1523326026617.png)





![1523325883366](C:\Users\ZhangConghai\Pictures\Typora\1523325883366.png)

## 编译系统(Compiling System)

包含 编译程序+运行系统

### 编译程序(compiler)

![1523326105285](C:\Users\ZhangConghai\Pictures\Typora\1523326105285.png)

#### 1.词法分析(Scanner)

![1523326170437](C:\Users\ZhangConghai\Pictures\Typora\1523326170437.png)

词法分析由词法分析器(Lexical Analyzer)完成，词法分析器又称为扫描器(Scanner)* 词法分析器从左到右扫描组成源程序的字符串，并将其转换成单词(记号—token)串；同时要：查词法错误，进行标识符登记——符号表管理。

- 输入：字符串
- 输出：(种别码，属性值)——序对
- 属性值——token的机内表示

#### 2.语法分析(Parser)

语法分析由语法分析器(Syntax Analyzer)完成，语法分析器又叫Parser。

**功能：**

* Parser实现“组词成句”


* 将词组成各类语法成分：表达式、因子、项，语句，子程序…


* 构造分析树


* 指出语法错误


* 指导翻译


* 输入：token序列


* 输出：语法成分

![1523326436629](C:\Users\ZhangConghai\Pictures\Typora\1523326436629.png)

#### 3.语义分析

##### 语义分析(semantic analysis)

**一般和语法分析同时进行**，称为语法制导翻译(syntax-directed translation)

* 功能：分析由语法分析器识别出来的语法成分的语义


* 获取标识符的属性：类型、作用域等


* 语义检查：运算的合法性、取值范围等


* 子程序的静态绑定：代码的相对地址


* 变量的静态绑定：数据的相对地址

#### 4.中间代码生成(Intermediate Code)

![1523326544906](C:\Users\ZhangConghai\Pictures\Typora\1523326544906.png)

![1523326704461](C:\Users\ZhangConghai\Pictures\Typora\1523326704461.png)

![1523326989358](C:\Users\ZhangConghai\Pictures\Typora\1523326989358.png)





#### 5.代码优化(optimization)

代码优化(optimization)是指对中间代码进行优化处理，使程序运行能够尽量节省存储空间，更有效地利用机器资源，使得程序的运行速度更快，效率更高。当然这种优化变换必须是等价的。

* 与机器无关的优化


* 与机器有关的优化

##### 与机器无关的优化

###### 局部优化

* 常量合并：常数运算在编译期间完成，如8+9*4


* 公共子表达式的提取:在基本块内进行的

###### 循环优化

* 强度削减


* 用较快的操作代替较慢的操作


* 代码外提


* 将循环不变计算移出循环

##### 与机器有关的优化

寄存器的利用

* 将常用量放入寄存器，以减少访问内存的次数

体系结构

* MIMD、SIMD、SPMD、向量机、流水机

存储策略

* 根据算法访存的要求安排：Cache、并行存储体系——减少访问冲突

任务划分

* 按运行的算法及体系结构，划分子任务(MPMD)

#### 6.目标代码生成器

##### 将中间代码转换成目标机上的机器指令代码或汇编代码

* 确定源语言的各种语法成分的目标代码结构（机器指令组/汇编语句组）


* 制定从中间代码到目标代码的翻译策略或算法

##### 目标代码的形式

* 具有绝对地址的机器指令


* 汇编语言形式的目标程序


* 模块结构的机器指令（需要链接程序）

#### 7.表格管理

管理各种符号表(常数、标号、变量、过程、结构……)，查、填（登记、查找）源程序中出现的符号和编译程序生成的符号，为编译的各个阶段提供信息。

* 辅助语法检查、语义检查


* 完成静态绑定、管理编译过程


* Hash表、链表等各种表的查、填技术


* “数据结构与算法”课程的应用

#### 8.错误处理

进行各种错误的检查、报告、纠正，以及相
应的续编译处理(如：错误的定位与局部化)
词法：拼写……
语法：语句结构、表达式结构……
语义：类型不匹配、参数不匹配……

## 编译程序生成

















